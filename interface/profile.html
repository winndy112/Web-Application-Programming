<!DOCTYPE html>
<html>

<head>
    <title> Profile Page</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/profile.css">
    <link rel="stylesheet" href="/css/home_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <style>


    </style>
</head>

<body style="background-color: #f1f1f1; margin: 0;">
    <nav class="bar pink">
        <div class="nav">
            <a href="/intro.html" class="button-pink ">
                <span class="dashicons dashicons-search"> <i class="fa fa-info" aria-hidden="true"
                        title="intro"></i></span>
            </a>
            <a href="/home.html" class="button-pink ">
                <span class="dashicons dashicons-search"> <i class="fa fa-home" aria-hidden="true"
                        title="Home"></i></span>
            </a>
            <a href="/favorite.html" class="button-pink ">
                <span class="dashicons dashicons-search"> <i class="fa fa-heart" aria-hidden="true"
                        title="Favorites"></i></span>
            </a>
            <a href="/QnA.html" class="button-pink ">
                <span class="dashicons dashicons-search"> <i class="fa fa-question-circle" aria-hidden="true"
                        title="Q&A"></i></span>
            </a>
            <a href="/profile.html" class="button-pink ">
                <span class="dashicons dashicons-search"> <i class="fa fa-user" aria-hidden="true"
                        title="Profile"></i></span>
            </a>
        </div>
    </nav>
    <div class="main gradient-header" style=" height: 100%">
        <div class="container-fluid">
            <button style="background-color: #f1f1f1; border: none;" id="navbar-toggler" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"><i class="fa fa-bars" aria-hidden="true" title="Menu"></i></span>
            </button>
            <div class="navbar-collapse" id="navbarNav">
                <ul>
                    <li><a href="#" class="account-option">Account</a></li>
                    <li><a href="#" class="mypost-option">My Post</a></li>
                    <li><a href="#" class="inbox-option">Inbox</a></li>
                    <li><a href="#" class="notifications-option">Notifications</a></li>
                    <li><a href="#" class="logout-option">Log Out</a></li>
                </ul>
            </div>
        </div>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <div id="content" style="position: static; height: 600px;"> <!-- Adjust the padding-top as needed -->
            <div style="display: block" class="options" id="my-account-option">
                <div style="background-color: rgb(191, 199, 222); padding-top: 10px;  padding-bottom: 10px; padding-left: 10px;"
                    class="container mt-5">
                    <div class="row">
                        <div class="col-lg-4 pb-5">
                            <!-- Account Sidebar-->
                            <div class="author-card pb-3">
                                <!-- THAY ẢNH BÌA CỦA USER VÀO  -->
                                <div class="author-card-cover"
                                    style="background-image: url(https://bootdey.com/img/Content/flores-amarillas-wallpaper.jpeg);">
                                </div>
                                <!-- <a class="btn btn-style-1 btn-white btn-sm" href="#" data-toggle="tooltip" title="" data-original-title="You currently have 290 Reward points to spend"><i class="fa fa-award text-md"></i>&nbsp;290 points</a> -->
                                <!-- THAY ẢNH ĐẠI DIỆN CỦA USER VÀO -->
                                <div class="author-card-profile">

                                    <div class="author-card-avatar"><img
                                        src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="Daniel Adams">
                                </div>
                                <div class="author-card-details">
                                    <h5 class="author-card-name text-lg">Daniel Adams</h5><span
                                        class="author-card-position">Joined February 06, 2017</span>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="wizard">
                            <nav class="list-group list-group-flush">
                                <a class="list-group-item" href="#">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div><i class="fe-icon-shopping-bag mr-1 text-muted"></i>
                                            <div class="d-inline-block font-weight-medium text-uppercase"></div>
                                        </div>
                                    </div>
                                </a><a class="list-group-item active" href="#"><i class="fe-icon-user text-muted"></i>Profile Settings</a><a class="list-group-item" href="#"><i class="fe-icon-map-pin text-muted"></i>Addresses</a>
                                <a class="list-group-item" href="https://www.bootdey.com/snippets/view/bs4-wishlist-profile-page" target="__blank">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div><i class="fe-icon-heart mr-1 text-muted"></i>
                                            <div class="d-inline-block font-weight-medium text-uppercase">My Wishlist</div>
                                        </div><span class="badge badge-secondary">3</span>
                                    </div>  
                                </a>
                                <a class="list-group-item" href="https://www.bootdey.com/snippets/view/bs4-account-tickets" target="__blank">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div><i class="fe-icon-tag mr-1 text-muted"></i>
                                            <div class="d-inline-block font-weight-medium text-uppercase">My Tickets</div>
                                        </div><span class="badge badge-secondary">4</span>
                                    </div>
                                </a>
                            </nav>
                        </div> -->
                    </div>
                    <!-- Profile Settings-->
                    <div class="col-lg-8 pb-5">
                        <form class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-fn">First Name</label>
                                    <input class="form-control" type="text" id="account-fn" value="Daniel"
                                        required="">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-ln">Last Name</label>
                                    <input class="form-control" type="text" id="account-ln" value="Adams"
                                        required="">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">

                                    <label for="account-email">E-mail Address</label>
                                    <input class="form-control" type="email" id="account-email"
                                        value="daniel.adams@example.com" disabled="">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-phone">Phone Number</label>
                                    <input class="form-control" type="text" id="account-phone"
                                        value="+7 (805) 348 95 72" required="">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-pass">New Password</label>
                                    <input class="form-control" type="password" id="account-pass">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-confirm-pass">Confirm Password</label>
                                    <input class="form-control" type="password" id="account-confirm-pass">
                                </div>
                            </div>
                            <div class="col-12">
                                <hr class="mt-2 mb-3">
                                <div class="d-flex flex-wrap justify-content-between align-items-center">
                                    <div class="custom-control custom-checkbox d-block">
                                        <input class="custom-control-input" type="checkbox" id="subscribe_me"
                                            checked="">
                                        <label class="custom-control-label" for="subscribe_me">Subscribe me to
                                            Newsletter</label>
                                    </div>
                                    <button class="btn btn-style-1 btn-primary" type="submit" data-toast=""
                                        data-toast-position="topRight" data-toast-type="success"
                                        data-toast-icon="fe-icon-check-circle" data-toast-title="Success!"
                                        data-toast-message="Your profile updated successfuly.">Update
                                        Profile</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: none" class="options" id="my-post-option">
            <!-- Content for My Post option -->
            This is My Post option content.
        </div>
        <div style="display: none" class="options" id="inbox">
            <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
                rel="stylesheet">
            <div style="background-color: rgb(191, 199, 222); margin: 20px;"
                class="row message-wrapper rounded shadow mb-20">
                <div class="col-md-4 message-sideleft">
                    <div class="panel">
                        <div class="panel-heading">
                            <div class="pull-left">
                                <h3 class="panel-title">Conversations</h3>
                            </div>
                            <div class="pull-right">
                                <div class="btn-group">

                                    <button type="button" class="btn btn-sm btn-success">All Sources</button>
                                    <button type="button" class="btn btn-sm btn-success dropdown-toggle"
                                        data-toggle="dropdown">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#"><i class="fa fa-download"></i> Inbox</a></li>
                                        <li><a href="#"><i class="fa fa-upload"></i> Outbox</a></li>
                                        <li><a href="#"><i class="fa fa-trash-o"></i> Trash</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#"><i class="fa fa-briefcase"></i> Other</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div><!-- /.panel-heading -->
                        <div class="panel-body no-padding">
                            <div class="list-group no-margin list-message">
                                <a href="#" class="list-group-item">
                                    <h4 class="list-group-item-heading">Jeck Joko <small>Yesterday at 15:45</small>
                                    </h4>
                                    <p class="list-group-item-text">
                                        Ticket #78: <strong>Problems with custom CSS3</strong>
                                    </p>
                                    <span class="label label-success pull-right">SOLVED</span>
                                    <div class="clearfix"></div>
                                </a>
                                <a href="#" class="list-group-item active">
                                    <h4 class="list-group-item-heading">Toni Miring <small>Sunday at 12:33</small>
                                    </h4>
                                    <p class="list-group-item-text">Ticket #43: <strong>How do i use
                                            something</strong></p>
                                    <span class="label label-success pull-right rounded">SOLVED</span>
                                    <div class="clearfix"></div>
                                </a>
                                <a href="#" class="list-group-item">
                                    <h4 class="list-group-item-heading">Bella Negoro <small>Sunday at 12:33</small>
                                    </h4>
                                    <p class="list-group-item-text">Ticket #15: <strong>Why doesn't my cheese work
                                            properly? :(</strong></p>
                                    <span class="label label-default pull-right circle">OPEN</span>
                                    <div class="clearfix"></div>
                                </a>
                                <a href="#" class="list-group-item">
                                    <h4 class="list-group-item-heading">Daddy Botak <small>Sunday at 12:33</small>
                                    </h4>
                                    <p class="list-group-item-text">Can i have longer on my free trial please?</p>
                                </a>
                            </div><!-- /.list-group -->
                        </div><!-- /.panel-body -->
                    </div><!-- /.panel -->
                </div><!-- /.message-sideleft -->

                <div class="col-md-8 message-sideright">
                    <div class="panel">
                        <div class="panel-heading">
                            <div class="media">
                                <a href="mail-compose.html" class="btn btn-danger pull-right rounded"><i
                                        class="fa fa-share"></i></a>
                                <a class="pull-left" href="#">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar1.png"
                                        alt="Rebecca Cabean" class="img-circle avatar">
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading">Rebecca Cabean <small>(Sales Manager)</small></h4>
                                    <small>Thursday 5th July 2014-via Intercom</small>
                                </div>
                            </div>
                        </div><!-- /.panel-heading -->
                        <div class="panel-body">
                            <p class="lead">
                                RE : Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante
                                sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra
                                turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue
                                felis in faucibus.
                            </p>
                            <hr>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                                irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                                pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                                deserunt mollit anim id est laborum.
                            </p>
                            <br>
                            <p>
                                Thanks! <br>
                                Rebecca.
                            </p>
                        </div><!-- /.panel-body -->
                    </div><!-- /.panel -->
                    <div class="panel">
                        <div class="panel-heading">
                            <div class="media">
                                <a class="pull-left" href="#">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar6.png"
                                        alt="sarah tingting" class="img-circle avatar">
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading">Sarah Tingting</h4>
                                    <small>Thursday 5th July 2014-via Intercom</small>
                                </div>
                            </div>
                        </div><!-- /.panel-heading -->
                        <div class="panel-body">
                            <p class="lead">
                                Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante
                                sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra
                                turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue
                                felis in faucibus.

                            </p>
                            <hr>
                            <strong>Hi Tol Lee</strong>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                                irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                                pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                                deserunt mollit anim id est laborum.
                            </p>
                        </div><!-- /.panel-body -->
                    </div><!-- /.panel -->
                </div><!-- /.message-sideright -->
            </div>
        </div>
        <div style="display: none" class="options" id="notification">
            <!-- Content for Notifications option -->
            <div class="row notification-container" style="padding: 20px 20px 30px 30px;">
                <h2 class="text-center">My Notifications</h2>
                <div class="dismiss-all-wrapper" style="display: flex; justify-content: flex-end; width: 100%;">
                    <p class="dismiss text-right">
                        <a id="dismiss-all" href="#">Dismiss All</a>
                    </p>
                </div>
                <div class="card notification-card notification-invitation">
                    <div class="card-body">
                        <table>
                            <tr>
                                <td style="width:70%">
                                    <div class="card-title">Jane invited you to join '<b>Familia</b>' group</div>
                                </td>
                                <td style="width:30%">
                                    <a href="#" class="btn btn-primary">View</a>
                                    <a href="#" class="btn btn-danger dismiss-notification">Dismiss</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="card notification-card notification-warning">
                    <div class="card-body">
                        <table>
                            <tr>
                                <td style="width:70%">
                                    <div class="card-title">Your expenses for '<b>Groceries</b>' has exceeded its
                                        budget</div>
                                </td>
                                <td style="width:30%">
                                    <a href="#" class="btn btn-primary">View</a>
                                    <a href="#" class="btn btn-danger dismiss-notification">Dismiss</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>


                <div class="card notification-card notification-danger">
                    <div class="card-body">
                        <table>
                            <tr>
                                <td style="width:70%">
                                    <div class="card-title">Insufficient budget to create '<b>Clothing</b>' budget
                                        category</div>
                                </td>
                                <td style="width:30%">
                                    <a href="#" class="btn btn-primary">View</a>
                                    <a href="#" class="btn btn-danger dismiss-notification">Dismiss</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="card notification-card notification-reminder">
                    <div class="card-body">
                        <table>
                            <tr>
                                <td style="width:70%">
                                    <div class="card-title">You have <b>2</b> upcoming payment(s) this week</div>
                                </td>
                                <td style="width:30%">
                                    <a href="#" class="btn btn-primary">View</a>
                                    <a href="#" class="btn btn-danger dismiss-notification">Dismiss</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>


            </div>
        </div>
        <div style="display: none" class="options" id="log-out">
            <!-- Content for Log Out option -->
            This is Log Out option content.
        </div>
    </div>
</div>
<div id="postsContainer" style="display: none;"></div>
<script>
    // Get references to the button and the menu
    const tagButton = document.getElementById("navbar-toggler");
    const menu = document.getElementById("navbarNav");
    const content = document.getElementById("content");

    // Add a click event listener to the button
    tagButton.addEventListener("click", function () {
        // Toggle the display of the menu
        if (menu.classList.contains("show")) {
            menu.classList.remove("show");
            content.style.paddingTop = "0px"; // Adjust as needed
        } else {
            menu.classList.add("show");
            // content.style.paddingTop = menu.clientHeight + "px";
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
        // Get all the option links
        var accountOption = document.querySelector('.account-option');
        var mypostOption = document.querySelector('.mypost-option');
        var inboxOption = document.querySelector('.inbox-option');
        var notificationsOption = document.querySelector('.notifications-option');
        var logoutOption = document.querySelector('.logout-option');

        // Get all the content divs
        var accountContent = document.getElementById('my-account-option');
        var mypostContent = document.getElementById('my-post-option');
        var inboxContent = document.getElementById('inbox');
        var notificationContent = document.getElementById('notification');
        var logoutContent = document.getElementById('log-out');

        // Function to show content and hide others
        function showContent(content) {
            console.log(content);
            
            var allContent = [accountContent, mypostContent, inboxContent, notificationContent, logoutContent];
            allContent.forEach(function (item) {
                item.style.display = 'none';
            });
            mypostContent.style.display = 'block';
            /**/


        }
        function displayUserPosts(postsData){
            var allContent = [accountContent, mypostContent, inboxContent, notificationContent, logoutContent];
            allContent.forEach(function (item) {
                item.style.display = 'none';
            });
            const postsContainer = document.getElementById('postsContainer');

            // Tạo container cho bài post
            const postContainer = document.createElement('div');
            postContainer.classList.add('post');

            // Tạo và thêm tiêu đề
            const titleElement = document.createElement('h2');
            titleElement.textContent = "Hello from server";
            postContainer.appendChild(titleElement);

            // Tạo và thêm nội dung
            const contentElement = document.createElement('p');
            contentElement.textContent = "This is content";
            postContainer.appendChild(contentElement);

            // Thêm container vào #postsContainer
            postsContainer.appendChild(postContainer);

            // Hiển thị #postsContainer
            postsContainer.style.display = 'block';
            /*
            postsData.data.forEach(post => {
                // Tạo container cho mỗi bài post
                const postContainer = document.createElement('div');
                postContainer.classList.add('post');

                // Tạo và thêm tiêu đề
                const titleElement = document.createElement('h2');
                titleElement.textContent = post.title;
                postContainer.appendChild(titleElement);

                // Tạo và thêm nội dung
                const contentElement = document.createElement('p');
                contentElement.textContent = post.content;
                postContainer.appendChild(contentElement);

                // Tạo và thêm ảnh cover (nếu có)
                if (post.coverPhoto) {
                    const coverPhotoElement = document.createElement('img');
                    coverPhotoElement.src = post.coverPhoto;
                    coverPhotoElement.alt = 'Cover Photo';
                    postContainer.appendChild(coverPhotoElement);
                }

                // Tạo và thêm số lượt thích
                const numLikesElement = document.createElement('p');
                numLikesElement.textContent = `Likes: ${post.numLikes}`;
                postContainer.appendChild(numLikesElement);

                // Thêm container của bài post vào container chứa tất cả các bài post
                postsContainer.appendChild(postContainer);
                postContainer.display = 'block';
            });
            */
        }


            // Add click event listeners to option links
            accountOption.addEventListener('click', function () {
                showContent(accountContent);

            });
            mypostOption.addEventListener('click', function () {
                fetch('/profile/showMyPost', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    // Nếu cần gửi dữ liệu với yêu cầu POST, bạn có thể thêm vào đây
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json(); // Trả về dữ liệu từ phản hồi dưới dạng JSON
                })
                .then(data => {
                    // Xử lý dữ liệu nhận được từ máy chủ (ví dụ: hiển thị trên giao diện)
                    console.log(data);
                    displayUserPosts(data);
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
                
                // showContent(mypostContent);
            });
            inboxOption.addEventListener('click', function () {
                showContent(inboxContent);
            });
            notificationsOption.addEventListener('click', function () {
                showContent(notificationContent);
            });
            logoutOption.addEventListener('click', function () {
                showContent(logoutContent);
            });
        });
        //remove menu when click outside menu 
        document.addEventListener("click", function (event) {
            const isClickInsideMenu = menu.contains(event.target);
            const isClickInsideButton = tagButton.contains(event.target);

            if (!isClickInsideMenu && !isClickInsideButton) {
                menu.classList.remove("show");
                content.style.paddingTop = "0px"; // Adjust as needed

            }
        });


        const dismissAll = document.getElementById('dismiss-all');
        const dismissBtns = Array.from(document.querySelectorAll('.dismiss-notification'));

        const notificationCards = document.querySelectorAll('.notification-card');

        dismissBtns.forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault;
                var parent = e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;
                parent.classList.add('display-none');
            })
        });

        dismissAll.addEventListener('click', function (e) {
            e.preventDefault;
            notificationCards.forEach(card => {
                card.classList.add('display-none');
            });
            const row = document.querySelector('.notification-container');
            const message = document.createElement('h4');
            message.classList.add('text-center');
            message.innerHTML = 'All caught up!';
            row.appendChild(message);
        })
    </script>
</body>

</html>
